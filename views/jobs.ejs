<%- include("partials/head.ejs") %>

<%- include("partials/header.ejs") %>

<h2>Jobs List</h2>

<table id="jobs-table">
    
    <tr id="jobs-table-header">
        <th>Company</th>
        <th>Position</th>
        <th>Status</th>
        <th colspan="2"></th>
    </tr>

    <% if (jobs && jobs.length) { %>
        <% jobs.forEach((job) => { %>
            <tr>
                <td><%= job.company %></td>
                <td><%= job.position %></td>
                <td><%= job.status %></td>
                
                <td>
                    <a href="/jobs/edit/<%= job.id %>">
                        <button type="button">Edit</button>
                    </a>
                </td>

                <td>
                    <form method="POST" action="/jobs/delete/<%= job.id %>" style="display: inline">
                        <button>Delete</button>
                        
                        <input type="hidden" name="_csrf" value="<%= _csrf %>" />
                    </form>
                </td>
            </tr>
        <% }) %>
    <% } %>
    
</table>


</br>


<a href="/jobs/new" style="display: inline-block;">
    <button type="button" style="padding: 0.5rem 1rem; font-size: 1.2rem;">
        Add new job
    </button>
</a>



<form method="POST" style="display: inline-block; margin-left: 1rem;">
    <input type="hidden" name="_csrf" value="<%= _csrf %>">

    <div>
      <a href="/">
        <button type="button" style="padding: 0.5rem 1rem; font-size: 1.2rem;">
            Cancel
        </button>
      </a>
    </div>
</form>

<%- include("partials/footer.ejs") %>